{% extends "web/base.html" %}
{% load staticfiles %}
{% load embed_video_tags %}
{% load user_agents %}
{% block extrahead %}
    <title>Space Launch Now</title>
    <meta name="title" content="Space Launch Now">
    <link rel="canonical" href="https://spacelaunchnow.me/">
    <meta property="fb:app_id" content="746774215504127"/>
    <meta property="og:title" content="Space Launch Now"/>
    <meta property="og:type" content="website"/>
    <meta name="description"
          content="Meet Space Launch Now the best resource for keeping up to date on all of your favorite spaceflight missions from around the world.">
    <meta property="og:description"
          content="Meet Space Launch Now the best resource for keeping up to date on all of your favorite spaceflight missions from around the world."/>
    <meta property="og:url" content="https://spacelaunchnow.me/"/>
    <meta property="og:image" content="https://spacelaunchnow.me/static/img/social.png"/>
    <meta property="og:image:width" content="3000"/>
    <meta property="og:image:height" content="2000"/>
{% endblock %}


{% block navigation %}
    <!-- Navigation -->
    <nav class="navbar navbar-transparent navbar-color-on-scroll bg-primary fixed-top navbar-expand-lg">
        <div class="container">
            <div class="navbar-translate">
                <a class="navbar-brand" href="#page-top"><b>Space Launch Now</b></a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" aria-expanded="false"
                        aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                    <span class="navbar-toggler-icon"></span>
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>

            <div class="collapse navbar-collapse">

                <ul class="navbar-nav ml-auto">

                    <li class="nav-item">
                        <a class="nav-link active" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/launch">Launches</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/astronaut">Astronauts</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/vehicle">Vehicles</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false">
                            Developers
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" href="/docs"><i class="fas fa-book" style="margin-right: 8px;"></i>
                                Documentation</a>
                            <a class="dropdown-item" href="/api/3.3.0"><i class="fas fa-laptop-code"
                                                                          style="margin-right: 8px;"></i> Endpoints</a>
                            <a class="dropdown-item" href="https://github.com/ItsCalebJones/SpaceLaunchNow-Server"><i
                                    class="fab fa-github" style="margin-right: 8px;"></i> GitHub</a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link"
                           href="https://play.google.com/store/apps/details?id=me.calebjones.spacelaunchnow&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"><i
                                class="fab fa-android"></i> Android</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://itunes.apple.com/us/app/space-launch-now/id1399715731"><i
                                class="fab fa-apple"></i> iOS</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
{% endblock %}

{% block content %}
    <div class="page-header" data-parallax="true"
         style="background-image: url('{% static 'img/header.jpg' %}');">
        <div class="container">
            <div class="name text-center">
                <div class="avatar" style="max-height: 280px;">
                    <img src="{% static 'img/launcher.png' %}"
                         alt="Circle Image"
                         class="img-raised rounded-circle img-fluid "
                         style="max-width: 15%">
                </div>
                <hr class="col-lg-8" style="background-color: white">
                <h1 class="title">Space Launch Now</h1>
                <h2>A Spaceflight Tracker</h2>
                <a style="margin: 5px"
                   href='https://play.google.com/store/apps/details?id=me.calebjones.spacelaunchnow&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'>
                    <img alt='Get it on Google Play' src="{% static 'img/button/google.png' %}" width="135" height="40"
                         alt="">
                </a>
                <a style="margin: 5px" href='https://itunes.apple.com/us/app/space-launch-now/id1399715731'>
                    <img alt='Get it on App Store' src="{% static 'img/button/apple.png' %}" width="135" height="40"
                         alt="">
                </a>
                <hr class="col-lg-8" style="background-color: white">
            </div>
        </div>
    </div>
    <div class="col-lg-10 ml-auto mr-auto mx-auto text-center">
        <div class="main card text-center">
            <div class="card-header card-header-danger text-center">
                <h2 class="title">{{ launch.name }}</h2>
                <h3 class="title">{{ launch.pad.location.name }}</h3>
            </div>
            <br>
            <div class="row">
                <div class="col-md-12 ml-auto mx-auto mr-auto text-center">
                    <div class="profile">
                        <div class="avatar">
                            {% if launch.rocket.configuration.launch_agency.logo_url %}
                                <img src="{{ launch.rocket.configuration.launch_agency.logo_url.url }}"
                                     alt="Circle Image"
                                     class="img-fluid mx-auto"
                                     style="max-width: 75%;max-height: 400px;">
                            {% else %}
                                <h2 class="title text-center"
                                    style="margin-left: 100px; margin-right:100px;">{{ launch.rocket.configuration.launch_agency.name }}</h2>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row text-center">
                    <div class="col-md-12 ml-auto mr-auto text-center">
                        <!--<h1 class="title" class="text-center"-->
                        <!--style="margin-left: 100px; margin-right:100px;">{{ launch.lsp.name }}</h1>-->
                        <!--<div class="col-md-8 ml-auto mr-auto text-center">-->
                        <!--<p>{{ launch.mission.description }}</p>-->
                        <!--</div>-->
                        <h2 style="margin: 5px;">{{ status }}</h2>
                        {% if launch.failreason %}
                            <span class="badge badge-pill badge-danger">{{ launch.failreason }}</span>
                        {% endif %}
                        {% if launch.holdreason %}
                            <span class="badge badge-pill badge-warning">{{ launch.holdreason }}</span>
                        {% endif %}
                        <hr class="col-lg-8" style="background-color: white">
                        <h2 class="title" style="margin: 5px;" id="countdown">L - -- : -- : -- : --</h2>
                        <h3 style="margin: -5px;" id="date">{{ launch.net }}</h3>
                        <h3 style="margin: 5px;"><b>Status:</b> {{ launch.status }}</h3>

                        <span class="badge badge-pill badge-primary">{{ launch.rocket.configuration.launch_agency.name }}</span>
                        {% if launch.pad %}
                            <span class="badge badge-pill badge-primary">{{ launch.pad.name }}</span>
                        {% endif %}
                        {% if launch.pad.location.name %}
                            <span class="badge badge-pill badge-primary">{{ launch.pad.location.name }}</span>
                        {% endif %}
                        {% if launch.probability > 0 %}
                            <span class="badge badge-pill badge-primary">Probability: {{ launch.probability }}%</span>
                        {% endif %}
                        {% if launch.hashtag %}
                            <span class="badge badge-pill badge-primary">{{ launch.hashtag }}</span>
                        {% endif %}
                        {% if launch.rocket.firststage.all|length > 0 %}
                            <div class="row text-center">
                                {% for stage in launch.rocket.firststage.all %}
                                    {% if stage.landing != None %}
                                        <div class="col-md-4 mx-auto">
                                            <div class="info">
                                                <!-- Date/Time -->
                                                <h3 class="text-center card-title">{{ stage.launcher.serial_number }}</h3>
                                                <hr>
                                                <b>Type: {{ stage.type }}</b><br>
                                                <b>Flight Proven: {{ stage.reused|yesno:"Yes,No" }}</b>
                                                {% if stage.landing.attempt %}
                                                    {% if stage.landing.success != None %}
                                                        <h5>
                                                            <b>{{ stage.landing.success|yesno:"Successful Landing,Unsuccessful Landing" }}</b>
                                                        </h5>
                                                    {% else %}
                                                        <h5>
                                                            <b>Landing Attempt Confirmed</b>
                                                        </h5>
                                                    {% endif %}
                                                {% elif stage.landing.attempt != True %}
                                                    <h5>
                                                        <b>{{ stage.type }} will be expended.</b>
                                                    </h5>
                                                {% else %}
                                                    <h5>
                                                        <b>Landing Attempt Unconfirmed</b>
                                                    </h5>
                                                {% endif %}
                                                <p>{{ stage.landing.description }}</p>
                                                <button
                                                        data-trigger="focus"
                                                        data-toggle="popover"
                                                        data-placement="top"
                                                        data-container="body"
                                                        data-original-title="{{ stage.landing.landing_location.name }}"
                                                        data-content="{{ stage.landing.landing_location.description }}"
                                                        class="btn btn-raised btn-round btn-sm
                                    {% if stage.landing.success %} btn-success
                                    {% elif not stage.landing.success %}btn-danger
                                    {% else %} btn-primary {% endif %}">
                                                    {{ stage.landing.landing_location.abbrev }}</button>
                                                <button class="btn btn-raised btn-round btn-sm btn-info"
                                                        data-trigger="focus"
                                                        data-toggle="popover"
                                                        data-placement="top"
                                                        data-container="body"
                                                        data-original-title="{{ stage.landing.landing_type.name }}"
                                                        data-content="{{ stage.landing.landing_type.description }}">
                                                    {{ stage.landing.landing_type.abbrev }}</button>
                                                <br>
                                            </div>
                                        </div>
                                    {% endif %}
                                    </div>
                                {% endfor %}
                        {% endif %}
                        <div class="row text-center">
                            <div class="container">
                                <div class="col-lg-12">
                                    <!-- Title -->
                                    {% if youtube_url %}
                                        {% video youtube_url as my_video %}
                                            <h3 class="text-center card-title"><b>Watch the Launch</b></h3>
                                            <hr>
                                            <div class="videoWrapper">
                                                {% if request|is_mobile %}
                                                    {% video my_video '85% x 25%' %}
                                                {% else %}
                                                    {% video my_video '80% x 80%' %}
                                                {% endif %}
                                            </div>
                                            <br>
                                        {% endvideo %}
                                    {% else %}
                                        <p>Check back later for live embedded streams.</p>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        <div class="row text-center">
                            <div class="col-md-10 ml-auto mr-auto text-center">
                                <a class="btn btn-primary btn-raised btn-lg center-block" href="/next">View Launch</a>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-lg-12 text-center">
                        <div class="col-md-10 ml-auto mr-auto text-center">
                            <h2 class="title text-center">Never miss another spaceflight launch!</h2>
                            <h3 class="text-faded">Follow along with the world of spaceflight as humanity
                                continues
                                its
                                exploration
                                of the solar system. We track every orbital launch and even the occasional
                                experimental test flight.</h3>

                        </div>

                        <hr>
                        <h2 class="section-heading">Top Features</h2>
                        <hr class="primary">
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6 col-md-6 d-flex align-items-stretch">
                        <div class="card card-nav-tabs">
                            <i class="card-header card-header-danger fa fa-4x fa-bell text-center sr-icons"></i>
                            <div class="card-body">
                                <h4 class="card-title">Notifications</h4>
                                <p>Get notified for launches from all the major launch providers like SpaceX, ULA, and
                                    Orbital/ATK as well as
                                    international launches from NASA, ROSCOSMOS, JAXA and ESA.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 d-flex align-items-stretch">
                        <div class="card card-nav-tabs">
                            <i class="card-header card-header-danger fa fa-4x fa-history text-center sr-icons"></i>
                            <div class="card-body">
                                <h4 class="card-title">Mission Information</h4>
                                <p class="text-faded">Learn about resupply missions to the International Space Station,
                                    commercial satellite launches from providers like IRIDIUM and science missions like
                                    ExoMars!</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6 col-md-6 d-flex align-items-stretch">
                        <div class="card card-nav-tabs">
                            <i class="card-header card-header-danger fa fa-4x fa-moon text-center sr-icons"></i>
                            <div class="card-body">
                                <h4 class="card-title">Day/Night Themes</h4>
                                <p class="text-faded">Don't be blinded by the new all-white trends of mobile apps with
                                    always-on night/dark themes!</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 d-flex align-items-stretch">
                        <div class="card card-nav-tabs">
                            <i class="card-header card-header-danger fa fa-4x fa-clock text-center sr-icons"></i>
                            <div class="card-body">
                                <h4 class="card-title">Launch Countdowns</h4>
                                <p class="text-faded">Follow every launch with a live countdown, either on the web,
                                    in a widget or in the app! Watch live as spaceflight events occur around the
                                    world.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6 col-md-6 d-flex align-items-stretch">
                        <div class="card card-nav-tabs">
                            <i class="card-header card-header-danger fa fa-4x fa-space-shuttle text-center sr-icons"></i>
                            <div class="card-body">
                                <h4 class="card-title">Launch Vehicles</h4>
                                <p class="text-faded">Get to know all the vehicles that take us to orbit such as the
                                    Soyuz,
                                    Atlas,
                                    Delta, Ariane, Proton
                                    and Falcon launch vehicle families.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 d-flex align-items-stretch">
                        <div class="card card-nav-tabs">
                            <i class="card-header card-header-danger fa fa-4x fa-stopwatch text-center sr-icons"></i>
                            <div class="card-body">
                                <h4 class="card-title">Android Wear OS</h4>
                                <p class="text-faded">A standalone Wear OS application to get all the information you
                                    need
                                    on the go, including watchface and Wear OS complications to use on your favorite
                                    watchface.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <h2 class="section-heading text-center">Watch Live</h2>
                <hr class="light">
                <div class="row text-center">
                    <div class="col-md-10 ml-auto mr-auto text-center">
                        <a class="btn btn-primary btn-raised btn-lg center-block" href="/next">What's
                            Launching
                            Next?</a>
                    </div>
                </div>
            </div>
            <br>
            <br>
            <div class="row">
                <div class="col-md-10 mx-auto text-center">
                    <h2 class="section-heading">Let's Get In Touch!</h2>
                    <hr class="primary">
                    <h3>Enjoying the app? Have questions? Feel free to reach out!</h3>
                    <div class="row">
                        <div class="col-md-4 text-center">
                            <i class="fab fa-reddit fa-3x sr-contact"></i>

                            <p>
                                <a href='https://www.reddit.com/r/spacelaunchnow/'>/r/spacelaunchnow</a>
                            </p>
                        </div>
                        <div class="col-md-4 text-center">
                            <i class="fa fa-envelope fa-3x sr-contact"></i>

                            <p>
                                <a href="mailto:support@spacelaunchnow.me">support@calebjones.me</a>
                            </p>
                        </div>
                        <div class="col-md-4 text-center">
                            <i class="fa fa-comments fa-3x sr-contact"></i>

                            <p>
                                <a href='https://discord.gg/WVfzEDW'>Discord</a>
                            </p>
                        </div>
                    </div>
                    <br>
                </div>
            </div>
        </div>
    </div>
    <script src="{% static 'material_kit/js/dateFormat.js' %}" type="text/javascript"></script>
    <script>
        var countDownDate = new Date("{{launch.net.isoformat}}");

        document.getElementById("date").innerHTML = dateFormat(countDownDate, "mmmm dS, yyyy - h:MM TT Z");
        // Set the date we're counting down to

        var now = new Date().getTime();
        var distance = countDownDate.getTime() - now;
        if (distance > 0) {
            // Update the count down every 1 second
            var x = setInterval(function () {

                // Get todays date and time
                var now = new Date().getTime();

                // Find the distance between now an the count down date
                var distance = countDownDate.getTime() - now;

                // Time calculations for days, hours, minutes and seconds
                var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                if (days <= 9) {
                    days = "0" + days
                }
                if (hours <= 9) {
                    hours = "0" + hours
                }
                if (minutes <= 9) {
                    minutes = "0" + minutes
                }
                if (seconds <= 9) {
                    seconds = "0" + seconds
                }
                // Display the result in the element with id="demo"
                document.getElementById("countdown").innerHTML = "L - " + days + " : " + hours + " : "
                    + minutes + " : " + seconds;

                // If the count down is finished, write some text
                if (distance < 0) {
                    clearInterval(x);
                    document.getElementById("countdown").innerHTML = "L - 00 : 00 : 00 : 00";
                }
            }, 1000);
        } else {
            document.getElementById("countdown").innerHTML = "L - 00 : 00 : 00 : 00";
        }

    </script>
    {% include "web/install_buttons.html" %}
{% endblock %}
