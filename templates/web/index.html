{% extends "web/base.html" %}
{% load staticfiles %}
{% load embed_video_tags %}
{% load user_agents %}
{% load thumbnail %}
{% block extrahead %}
    <title>Space Launch Now</title>
    <meta name="title" content="Space Launch Now">
    <link rel="canonical" href="https://spacelaunchnow.me/">
    <meta property="fb:app_id" content="746774215504127"/>
    <meta property="og:title" content="Space Launch Now"/>
    <meta property="og:type" content="website"/>
    <meta name="description"
          content="Meet Space Launch Now the best resource for keeping up to date on all of your favorite spaceflight missions from around the world.">
    <meta property="og:description"
          content="Meet Space Launch Now the best resource for keeping up to date on all of your favorite spaceflight missions from around the world."/>
    <meta property="og:url" content="https://spacelaunchnow.me/"/>
    <meta property="og:image" content="https://spacelaunchnow.me/static/img/header.jpg"/>
    <meta property="og:image:width" content="3000"/>
    <meta property="og:image:height" content="2000"/>
{% endblock %}


{% block navigation %}
    <!-- Navigation -->
    <nav class="navbar navbar-transparent navbar-color-on-scroll bg-primary fixed-top navbar-expand-lg">
        <div class="container">
            <div class="navbar-translate">
                <a class="navbar-brand" href="#page-top"><b>Space Launch Now</b></a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" aria-expanded="false"
                        aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                    <span class="navbar-toggler-icon"></span>
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>

            <div class="collapse navbar-collapse">

                <ul class="navbar-nav ml-auto">

                    <li class="nav-item">
                        <a class="nav-link active" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/launch">Launches</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/astronaut">Astronauts</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/vehicle">Vehicles</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false">
                            Developers
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" href="/docs"><i class="fas fa-book" style="margin-right: 8px;"></i>
                                Documentation</a>
                            <a class="dropdown-item" href="/api/3.3.0"><i class="fas fa-laptop-code"
                                                                          style="margin-right: 8px;"></i> Endpoints</a>
                            <a class="dropdown-item" href="https://github.com/ItsCalebJones/SpaceLaunchNow-Server"><i
                                    class="fab fa-github" style="margin-right: 8px;"></i> GitHub</a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link"
                           href="https://play.google.com/store/apps/details?id=me.calebjones.spacelaunchnow&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"><i
                                class="fab fa-android"></i> Android</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://itunes.apple.com/us/app/space-launch-now/id1399715731"><i
                                class="fab fa-apple"></i> iOS</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
{% endblock %}

{% block content %}
    <div class="page-header header-small" data-parallax="true"
         style="background-image: url('{% static 'img/header.jpg' %}'); height: 65vh;">
        <div class="container">
            <div class="name text-center">
                <div class="avatar" style="max-height: 280px;">
                    <img src="{% static 'img/launcher.png' %}"
                         alt="Circle Image"
                         class="img-raised rounded-circle img-fluid "
                         style="max-width: 15%">
                </div>
                <h1 class="title">Space Launch Now</h1>
                <h2>A Spaceflight Tracker</h2>
                <a style="margin: 5px"
                   href='https://play.google.com/store/apps/details?id=me.calebjones.spacelaunchnow&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'>
                    <img alt='Get it on Google Play' src="{% static 'img/button/google.png' %}" width="135" height="40"
                         alt="">
                </a>
                <a style="margin: 5px" href='https://itunes.apple.com/us/app/space-launch-now/id1399715731'>
                    <img alt='Get it on App Store' src="{% static 'img/button/apple.png' %}" width="135" height="40"
                         alt="">
                </a>
            </div>
        </div>
    </div>
    <div class="main main-raised">
        <div class="container">
            <div class="row">
                <div class="col-lg-9 col-md-12 col-xl-9">
                    <div class="col-md-12">
                        <div class="card card-raised card-background"
                             style="background-image: url('{{ launch.rocket.configuration.image_url.url }}')">
                            <div class="card-body">
                                <h6 class="card-category text-info">{{ launch.mission.type.name }}</h6>
                                <h3 class="card-title">{{ launch.name }}</h3>
                                <h4 class="title text-white" style="margin: 5px;" id="countdown">L - -- : -- : -- :
                                    --</h4>
                                <h4 class="text-white" style="margin: -5px;" id="date">{{ launch.net }}</h4>
                                <p class="card-description">
                                    {{ launch.mission.description }}
                                </p>
                                <a href="/launch/{{ launch.slug }}" class="btn btn-primary btn-round">
                                    <i class="material-icons">subject</i> View Launch
                                </a>

                            </div>
                        </div>
                        {% if upcoming_launches|length > 0 %}
                            {% for launch in upcoming_launches %}
                                <div class="card text-left" style="margin-top: 75px">
                                    <div class="card-header {% if 'GO' in launch.status.name %} card-header-success {% elif 'TBD' in launch.status.name %} card-header-danger {% else %} card-header-info {% endif %} p-2">
                                        <div class="row">
                                            <div class="col-md-4 text-center" style="height: 150px">
                                                {% if launch.rocket.configuration.image_url %}
                                                    {% thumbnail launch.rocket.configuration.image_url "200" as im %}
                                                        <img class="img-raised rounded-circle img-fluid text-center"
                                                             src="{{ im.url }}"
                                                             style="overflow: hidden;width: 150px;height: 150px;object-fit: cover;padding:1px;border:1px solid #cccccc;">
                                                    {% endthumbnail %}
                                                {% elif launch.rocket.configuration.launch_agency.image_url %}
                                                    {% thumbnail launch.rocket.configuration.launch_agency.image_url "200" as im %}
                                                        <img class="img-raised rounded-circle img-fluid text-center"
                                                             src="{{ im.url }}"
                                                             style="overflow: hidden;width: 150px;height: 150px;object-fit: cover;padding:1px;border:1px solid #cccccc;">
                                                    {% endthumbnail %}
                                                {% else %}
                                                    <img class="img-raised rounded-circle img-fluid text-center"
                                                         src="https://x.kinja-static.com/assets/images/logos/placeholders/default.png"
                                                         style="overflow: hidden;width: 150px;height: 150px;object-fit: cover;padding:1px;border:1px solid #cccccc;">
                                                {% endif %}
                                            </div>
                                            <div class="col-md-8 text-md-left text-center">
                                                <h4 class="card-title">{{ launch.name }}</h4>
                                                {{ launch.rocket.configuration.launch_agency.name }}
                                                | {{ launch.rocket.configuration.launch_agency.country_code }}<br>
                                                {{ launch.pad.location.name }}<br>
                                                <i>{{ launch.net }}</i><br>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        {% if launch.status %}
                                            <h5 class="card-text"><b>Status: </b>{{ launch.status.name }}</h5>
                                        {% endif %}
                                        {% if launch.mission %}
                                            <h5 class="card-text"><b>Mission: </b>{{ launch.mission.type_name }}</h5>
                                            <p class="card-text">{{ launch.mission.description }}</p>
                                        {% else %}
                                            <h5 class="card-text">Unknown Mission</h5>
                                            <p class="card-text">There are no mission or payload details available for
                                                this
                                                launch.</p>
                                        {% endif %}
                                        <span class="badge badge-pill badge-success">{{ launch.mission.orbit.name }}</span>
                                        {% if launch.hashtag %}
                                            <span class="badge badge-pill badge-primary">{{ launch.hashtag }}</span>
                                        {% endif %}
                                        {% if launch.rocket.firststage.all|length > 0 %}
                                            {% for stage in launch.rocket.firststage.all %}
                                                {% if stage.landing.landing_location %}
                                                    <span class="badge badge-pill badge-info"> {{ stage.launcher.serial_number }} - {{ stage.reused|yesno:"Flight Proven,Maiden Flight" }}
                                                        {% if stage.reused %}({{ stage.launcher.previous_flights }}
                                                            ) {% endif %}</span>
                                                    <span class="badge badge-pill badge-primary">{{ stage.landing.landing_location.name }}</span>
                                                {% endif %}
                                            {% endfor %}
                                        {% endif %}
                                        <hr/>
                                        <row>
                                            <a class="btn btn-primary" href="/launch/{{ launch.slug }}">Explore</a>
                                            <a data-site class="btn btn-danger"
                                               href="http://www.facebook.com/sharer.php?u={{ launch.get_full_absolute_url }}"
                                               target="_blank">Share</a>
                                        </row>
                                    </div>
                                </div>
                            {% endfor %}
                        {% else %}
                            <div class="card text-left">
                                <div class="card-body">
                                    <h2>No Launches Found</h2>
                                    <hr>
                                    There doesn't appear to be any upcoming launches for this filter.
                                </div>
                            </div>
                        {% endif %}
                        <div class="mx-auto">
                            <a href="/launch/" class="btn btn-info btn-round">
                                View Upcoming Launches
                            </a>
                        </div>
                    </div>
                    <div class="card card-plain card-blog">
                        <div class="row">
                            <div class="col-md-5">
                                <div class="card-header card-header-image">
                                    <a href="#pablito">
                                        <img class="img" src="{% static 'img/vehicle/booster.jpg' %}">
                                    </a>
                                    <div class="colored-shadow"
                                         style="background-image: url('{% static 'img/vehicle/booster.jpg' %}'); opacity: 1;"></div>
                                </div>
                            </div>
                            <div class="col-md-7">
                                <h6 class="card-category text-info">Enterprise</h6>
                                <h3 class="card-title">
                                    <a href="#pablo">Autodesk looks to future of 3D printing with Project Escher</a>
                                </h3>
                                <p class="card-description">
                                    Like so many organizations these days, Autodesk is a company in transition. It was
                                    until
                                    recently a traditional boxed software company selling licenses. Today, it’s moving
                                    to a
                                    subscription model. Yet its own business model disruption is only part of the story
                                    —
                                    and…
                                    <a href="#pablo"> Read More </a>
                                </p>
                                <p class="author">
                                    by
                                    <a href="#pablo">
                                        <b>Mike Butcher</b>
                                    </a>, 2 days ago
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="card card-plain card-blog">
                        <div class="row">
                            <div class="col-md-7">
                                <h6 class="card-category text-danger">
                                    <i class="material-icons">trending_up</i> Trending
                                </h6>
                                <h3 class="card-title">
                                    <a href="#pablo">6 insights into the French Fashion landscape</a>
                                </h3>
                                <p class="card-description">
                                    Like so many organizations these days, Autodesk is a company in transition. It was
                                    until
                                    recently a traditional boxed software company selling licenses. Today, it’s moving
                                    to a
                                    subscription model. Yet its own business model disruption is only part of the story
                                    —
                                    and…
                                    <a href="#pablo"> Read More </a>
                                </p>
                                <p class="author">
                                    by
                                    <a href="#pablo">
                                        <b>Mike Butcher</b>
                                    </a>, 2 days ago
                                </p>
                            </div>
                            <div class="col-md-5">
                                <div class="card-header card-header-image">
                                    <img class="img img-raised" src="{% static 'img/vehicle/spacestation.jpg' %}">
                                    <div class="colored-shadow"
                                         style="background-image: url('{% static 'img/vehicle/spacestation.jpg' %}'); opacity: 1;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% include "web/horizontal_news.html" %}
                </div>
                <!-- Sidebar Widgets Column -->
                <div class="col-lg-3 col-md-12 col-xl-3">
                    <!-- Categories Widget -->
                    <div class="card mb-5">
                        <div class="card-body">
                            <h4 class="card-title">Stay Connected</h4>
                            <button class="btn btn-link btn-twitter">
                                <i class="fab fa-twitter"></i> Connect with Twitter
                                <div class="ripple-container"></div>
                            </button>
                            <br>
                            <button class="btn btn-link btn-facebook">
                                <i class="fab fa-facebook-square"></i> Share
                                <div class="ripple-container"></div>
                            </button>
                            <br>
                            <button class="btn btn-link btn-youtube">
                                <i class="fab fa-youtube"></i> View on Youtube
                            </button>
                            <br>
                            <button class="btn btn-link btn-github">
                                <i class="fab fa-github"></i> Connect with Github
                            </button>
                        </div>
                    </div>
                    {% include "web/sidebar_launches_only.html" %}
                </div>
            </div>
        </div>
    </div>
    <script src="{% static 'material_kit/js/dateFormat.js' %}" type="text/javascript"></script>
    <script>
        var countDownDate = new Date("{{launch.net.isoformat}}");

        document.getElementById("date").innerHTML = dateFormat(countDownDate, "mmmm dS, yyyy - h:MM TT Z");
        // Set the date we're counting down to

        var now = new Date().getTime();
        var distance = countDownDate.getTime() - now;
        if (distance > 0) {
            // Update the count down every 1 second
            var x = setInterval(function () {

                // Get todays date and time
                var now = new Date().getTime();

                // Find the distance between now an the count down date
                var distance = countDownDate.getTime() - now;

                // Time calculations for days, hours, minutes and seconds
                var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                if (days <= 9) {
                    days = "0" + days
                }
                if (hours <= 9) {
                    hours = "0" + hours
                }
                if (minutes <= 9) {
                    minutes = "0" + minutes
                }
                if (seconds <= 9) {
                    seconds = "0" + seconds
                }
                // Display the result in the element with id="demo"
                document.getElementById("countdown").innerHTML = "L - " + days + " : " + hours + " : "
                    + minutes + " : " + seconds;

                // If the count down is finished, write some text
                if (distance < 0) {
                    clearInterval(x);
                    document.getElementById("countdown").innerHTML = "L - 00 : 00 : 00 : 00";
                }
            }, 1000);
        } else {
            document.getElementById("countdown").innerHTML = "L - 00 : 00 : 00 : 00";
        }

    </script>
    {% include "web/install_buttons.html" %}
{% endblock %}