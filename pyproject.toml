[tool.poetry]
name = "spacelaunchnow-server"
version = "3.3.3"
description = "The Backend and Webserver for Space Launch Now"
authors = ["Caleb Jones <ca.jones9119@gmail.com>"]
readme = "README.md"
packages = [
    {include = "app", from = "src"},
    {include = "autoscaler", from = "src"},
    {include = "spacelaunchnow", from = "src"},
    {include = "web", from = "src"},
]

[tool.poetry.dependencies]
python = ">=3.10.4,<4.0"
buffpy = {git = "https://github.com/ItsCalebJones/buffpy.git", rev = "ItsCalebJones-patch-requirements"}
boto3 = "==1.23.0"
botocore = "==1.26.0"
coverage = "==6.4.4"
Collectfast = "==2.2.0"
Django = "==3.2.15"
django-bootstrap4 = "==22.2"
django-bootstrap-form = "==3.4"
django-cachalot = "==2.5.2"
django-compat = "==1.0.15"
django-cors-headers = "==3.13.0"
django-cleanup = "==6.0.0"
django-debug-toolbar = "==3.6.0"
django-embed-video = "==1.4.5"
django-extensions = "==3.2.0"
django-filter = "==2.4.0"
django-health-check = "==3.16.7"
django-jenkins = "==0.110.0"
django-jet = {git = "https://github.com/ItsCalebJones/django-jet.git", rev = "ll-python-3"}
django-mathfilters = "==1.0.0"
django-robots = "==5.0"
django-storages = "==1.12.3"
django-tz-detect = "==0.4.0"
django-tables2 = "==2.4.1"
django-user-agents = "==0.4.0"
djangorestframework = "==3.13.1"
djangorestframework-bulk = "==0.2.1"
djangorestframework-queryfields = "==1.0.0"
drf-yasg = "==1.21.3"
drf-spectacular = "==0.23.1"
goose3 = "==3.1.11"
gunicorn = "==20.1.0"
Markdown = "==3.4.1"
num2word = "==1.0.1"
pilkit = "==2.0"
Pillow = "==9.2.0"
pyfcm = "==1.5.1"
pytz = "==2022.2.1"
psycopg2-binary = "==2.9.3"
python-digitalocean = "==1.17.0"
python-memcached = "==1.59"
python-dateutil = "==2.8.2"
praw = "==7.6.0"
regex = "==2022.8.17"
sorl-thumbnail = "==12.9.0"
sorl-thumbnail-serializer-field = "==0.2.1"
python-semantic-release = "7.32.2"
twitter = "==1.18.0"
tzlocal = "==4.2"
django-launch-library = {version = "^4.0.0", source = "tsd"}


[tool.poetry.group.dev]
optional = true

[tool.poetry.group.dev.dependencies]
black = "22.10.0"
isort = "5.10.1"
commitizen = "^2.37.0"
toml = "^0.10.2"
pre-commit = "^2.20.0"
flakeheaven = "3.2.1"
radon = "^5.1.0"
vulture = "^2.6"
cohesion = "^1.0.0"

[tool.poetry.group.ci]
optional = true

[tool.poetry.group.ci.dependencies]
unittest-xml-reporting = "==3.2.0"

###############################################################################
#
#                             SEMANTIC RELEASE
#
###############################################################################

[tool.semantic_release]
version_variable = [
    "src/version.py:__version__"
]
version_toml = [
    "pyproject.toml:tool.poetry.version"
]
branch = "master"

upload_to_repository = false
upload_to_release = true

build_command = "pip install poetry && poetry build"


###############################################################################
#
#                               Commitizen
#
###############################################################################

[tool.commitizen]
name = "cz_conventional_commits"
version = "3.2.0"
tag_format = "v$version"

###############################################################################
#
#                              Lint Settings
#
###############################################################################

[tool.black]
line-length = 120

[tool.isort]
profile = "black"
line_length = 120


###############################################################################
#
#                               FLAKE8 SETTINGS
#
###############################################################################

[tool.flakeheaven]
max_line_length = 120
max_doc_length = 120
format = "grouped"
show_source  = true
ignore = [
  "W503",
  "H601",
  "W503",
  "BLK100",
  "R70",
  "C90",
  "H60",
  "CFQ003"
]

[tool.flakeheaven.plugins]
pyflakes = ["+*"]



[[tool.poetry.source]]
name = "tsd"
url = "https://pypi.spacelaunchnow.me/simple/"
default = false
secondary = true

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"


